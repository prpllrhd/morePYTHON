import exceptions
#try using the more efficient cElementTree if it is available
try:
	from xml.etree.cElementTree import ElementTree
except ImportError:
	from xml.etree.ElementTree import ElementTree

class HTTPException(exceptions.Exception):
	def __init__(self, exc):
		self.exc = exc
		
	#"to string"
	def __str__(self):
		tree = ElementTree()
		tree.parse(self.exc)

		for elem in tree.iter():
			if elem.tag == "msg":
				err_msg = elem.text
		
		return "".join(["\n",str(self.exc),"\nAPI Error Message: ", err_msg]) 