#!/usr/bin/python

from IgorAPI import IgorAPI

#igr = IgorAPI(user="userid", pw="password")
igr = IgorAPI()

res = igr.getBranchInfo(branch="hotjobs.tools.QA")
for obj in res:
	obj.dump()

res = igr.getHosts(property="npn")
print res

res = igr.getRoles(property="media")
print res

res = igr.getTags(property="answers")
print res

res = igr.getBranches(property="hotjobs")
print res

res = igr.status()
res.dump()

res = igr.getHostState(host="host1.example.com")
res.dump()

res = igr.expandRange(range="@ysm.app.crm")
print res

res = igr.getBranchLog(branch="hotjobs.tools.QA")
for n, elem in enumerate(res):
	print n, elem.number

res = igr.getHostInfo(host="host1.example.com")
res.dump()

res = igr.getHostLog(host="h1.ycs.a2s.yahoo.com",rev="11000")
for n, elem in enumerate(res):
	print n, elem.date

res = igr.getHostRoles(host="devscor-001.ysm.oc2.yahoo.com")
print res

res = igr.getBranchPermission(branch="ysm.search_hk_ysm")
res.dump()

res = igr.getPropertyPermission(property="mail")
for elem in res:
	print elem.name
	if elem.name == "/roles/mail/farm.app.base":
		elem.dump()
	
res = igr.getRoleBase(role="hotjobs.vespa")
print res

res = igr.getRoleDependents(role="example.elves")
print res

res = igr.getRoleInfo(role="hotjobs.vespa")
res.dump()

res = igr.getRoleMembers(role="media.feeds_acquisition_prod")
print res

res = igr.getRolePermission(role="mail.farm.app.base")
res.dump()

res = igr.getRoleRules(role="example.single-host.host2")
print res

res = igr.getRoleRulesLog(role="hotjobs.vespa")
for elem in res:
	print elem.number, elem.message

res = igr.getTagLog(tag="hotjobs.new")
for elem in res:
	print elem.number, elem.message

res = igr.getTagPermission(tag="mail.jp_mail")
res.dump()

res = igr.getYinstState(host="penick1.ops.corp.gq1.yahoo.com")
print res

#STARTING WRITES----------------------------------

res = igr.branchRoleRules(role="example.zot",branch="example.testbelarus12345",msg="test")
print "revision:", res

#res = igr.changeTagStyle(tag="example.t456",style="explicit",msg="test")
#print res

res = igr.cloneTag(tag="example.t456",base_tag="example.123",msg="test")
print res

args = {"from" : "example.mybranch",
		"to" : "example.mynewbranch",
		"msg" : "test"}
res = igr.copyBranchToBranch(args)
print res

res = igr.newBranch(branch="example.testbelarus12345", msg="test")
print res

res = igr.delBranch(branch="example.testbelarus1234", msg="test")
print res

